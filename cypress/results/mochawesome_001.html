<!doctype html>
<html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Mochawesome Report</title><link rel="stylesheet" href="assets/app.css"/></head><body data-raw="{&quot;stats&quot;:{&quot;suites&quot;:1,&quot;tests&quot;:4,&quot;passes&quot;:4,&quot;pending&quot;:0,&quot;failures&quot;:0,&quot;start&quot;:&quot;2020-07-15T07:18:58.719Z&quot;,&quot;end&quot;:&quot;2020-07-15T07:20:27.100Z&quot;,&quot;duration&quot;:88381,&quot;testsRegistered&quot;:4,&quot;passPercent&quot;:100,&quot;pendingPercent&quot;:0,&quot;other&quot;:0,&quot;hasOther&quot;:false,&quot;skipped&quot;:0,&quot;hasSkipped&quot;:false},&quot;results&quot;:[{&quot;uuid&quot;:&quot;cdb6befe-d27e-497b-ba99-2fbf39927bb0&quot;,&quot;title&quot;:&quot;&quot;,&quot;fullFile&quot;:&quot;cypress/integration/HongKong/arrange.spec.js&quot;,&quot;file&quot;:&quot;cypress/integration/HongKong/arrange.spec.js&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[],&quot;suites&quot;:[{&quot;uuid&quot;:&quot;ef54a228-de5e-451b-a207-e63b2b4c7c9b&quot;,&quot;title&quot;:&quot;香港版-排班栏用例集&quot;,&quot;fullFile&quot;:&quot;&quot;,&quot;file&quot;:&quot;&quot;,&quot;beforeHooks&quot;:[],&quot;afterHooks&quot;:[],&quot;tests&quot;:[{&quot;title&quot;:&quot;新增排班&quot;,&quot;fullTitle&quot;:&quot;香港版-排班栏用例集 新增排班&quot;,&quot;duration&quot;:45866,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;this.retries(2);\n//点击排班栏\n// cy.get(\n//   \&quot;:nth-child(4) &gt; .ant-menu-submenu-title &gt; .menu-content &gt; .menu-content__title\&quot;,\n//   { timeout: 10000 }\n// ).click();\n//通过链接跳转排班界面\ncy.server();\ncy.route(&#x27;**/admin/**&#x27;).as(&#x27;queryEmployee&#x27;);\ncy.route(&#x27;POST&#x27;, &#x27;**/attendCalculationDetail/**&#x27;).as(&#x27;queryEmployeeAfter&#x27;);\ncy.visit(&#x27;http://stg.workoncue.com/schedule&#x27;);\n//加载数据\ncy.wait(&#x27;@queryEmployee&#x27;);\ncy.wait(&#x27;@queryEmployeeAfter&#x27;);\n//点击排班栏下的排班项\n// cy.get(\n//   \&quot;.ant-menu-submenu-open &gt; .ant-menu &gt; :nth-child(1) &gt; .menu-content &gt; .menu-content__title\&quot;, {\n//     timeout: 10000\n//   }\n// ).click();\ncy.wait(1000); //等待前端数据渲染\ncy.get(&#x27;div.ant-col-21.right-bottom &gt; div &gt; div &gt; div:nth-child(1) &gt; div:nth-child(1) &#x27;).then(function ($btn) {\n    if ($btn.children().hasClass(&#x27;schedule__add&#x27;)) {\n        //点击新增排班\n        cy.get(&#x27;div &gt; div &gt; div:nth-child(1) &gt; div:nth-child(1) &gt; div.schedule__add&#x27;).click();\n        cy.get(&#x27;#shiftIn &gt; input&#x27;).type(&#x27;09:00&#x27;);\n        cy.get(&#x27;#shiftOff &gt; input&#x27;).type(&#x27;18:00&#x27;);\n        cy.route(&#x27;POST&#x27;, &#x27;**/admin/attendCalculationDetail**&#x27;).as(&#x27;saveArrange&#x27;);\n        //选择保存排班\n        cy.get(&#x27;.ant-btn-primary&#x27;).click();\n        //判断保存排班接口返回是否正常\n        cy.wait(&#x27;@saveArrange&#x27;).its(&#x27;status&#x27;).should(&#x27;eq&#x27;, 200);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;7f3a943e-a0ce-44e8-baf0-df587bd5fb03&quot;,&quot;parentUUID&quot;:&quot;ef54a228-de5e-451b-a207-e63b2b4c7c9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;确认排班导出接口&quot;,&quot;fullTitle&quot;:&quot;香港版-排班栏用例集 确认排班导出接口&quot;,&quot;duration&quot;:1863,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;//点击排班栏\n// cy.get(\n//   \&quot;:nth-child(4) &gt; .ant-menu-submenu-title &gt; .menu-content &gt; .menu-content__title\&quot;,\n//   { timeout: 10000 }\n// ).click();\ncy.server();\n// cy.route(&#x27;**/admin/**&#x27;).as(&#x27;queryEmployee&#x27;);\n// cy.route(&#x27;POST&#x27;,&#x27;**/attendCalculationDetail/**&#x27;).as(&#x27;queryEmployeeAfter&#x27;);\n// //点击排班栏下的排班项\n// cy.get(\n//   \&quot;.ant-menu-submenu-open &gt; .ant-menu &gt; :nth-child(1) &gt; .menu-content &gt; .menu-content__title\&quot;\n// ).click();\n// //加载数据\n// cy.wait(&#x27;@queryEmployee&#x27;);\n//点击导出按钮\ncy.route(&#x27;**/admin/attendCalculationDetail/export?**&#x27;).as(&#x27;downloadExcel&#x27;);\ncy.get(&#x27;.download-box&#x27;).click();\n//点击确认导出按钮\ncy.get(&#x27;.ant-modal-confirm-btns &gt; .ant-btn-primary&#x27;).click();\ncy.wait(&#x27;@downloadExcel&#x27;).its(&#x27;status&#x27;).should(&#x27;eq&#x27;, 200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;24868507-7667-4688-aa80-ad53071b1269&quot;,&quot;parentUUID&quot;:&quot;ef54a228-de5e-451b-a207-e63b2b4c7c9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;判断打卡界面接口返回是否正常&quot;,&quot;fullTitle&quot;:&quot;香港版-排班栏用例集 判断打卡界面接口返回是否正常&quot;,&quot;duration&quot;:17490,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cy.server();\n//点击考勤栏\n// cy.get(&#x27;:nth-child(5) &gt; .ant-menu-submenu-title&#x27;, {\n//   timeout: 10000\n// }).click()\n//点击打卡数据\n// cy.get(&#x27;.ant-menu-submenu-open &gt; .ant-menu &gt; :nth-child(2)&#x27;,{\n//   timeout: 10000\n// }).click()\ncy.route(&#x27;**/admin/bizMobileCard?q=&amp;current=1&amp;size=10**&#x27;).as(&#x27;queryNormal&#x27;);\n//跳转打卡数据界面\ncy.visit(&#x27;http://stg.workoncue.com/attendance/clock_data&#x27;);\ncy.wait(&#x27;@queryNormal&#x27;).its(&#x27;status&#x27;).should(&#x27;eq&#x27;, 200);\n// cy.route(&#x27;**&amp;mobileCardStatusFilter=**&#x27;).as(&#x27;queryError&#x27;);\n//点击打卡异常数据界面\ncy.route(&#x27;**&amp;mobileCardStatusFilter=**&#x27;).as(&#x27;queryError&#x27;);\ncy.get(&#x27;[aria-selected=\&quot;false\&quot;]&#x27;).click();\ncy.wait(&#x27;@queryError&#x27;).its(&#x27;status&#x27;).should(&#x27;eq&#x27;, 200);&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;9a7376a8-47b9-4f8d-8dba-1e3a2c61d7e1&quot;,&quot;parentUUID&quot;:&quot;ef54a228-de5e-451b-a207-e63b2b4c7c9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false},{&quot;title&quot;:&quot;进行考勤汇总计算&quot;,&quot;fullTitle&quot;:&quot;香港版-排班栏用例集 进行考勤汇总计算&quot;,&quot;duration&quot;:18752,&quot;state&quot;:&quot;passed&quot;,&quot;speed&quot;:&quot;slow&quot;,&quot;pass&quot;:true,&quot;fail&quot;:false,&quot;pending&quot;:false,&quot;code&quot;:&quot;cy.log(&#x27;跳转考勤汇总计算链接&#x27;);\ncy.server();\ncy.route(&#x27;**/admin/bizAttendCalculation**&#x27;).as(&#x27;getbiz&#x27;);\ncy.visit(&#x27;http://stg.workoncue.com/attendance/overview&#x27;);\n//点击考勤汇总\n// cy.get(\&quot;ul &gt; li.ant-menu-submenu &gt; ul &gt; li:nth-child(1) &gt; div\&quot;).click();\ncy.wait(&#x27;@getbiz&#x27;);\ncy.log(&#x27;点击计算按钮&#x27;);\ncy.get(&#x27;[style=\&quot;width: 88px;\&quot;] &gt; .ant-btn&#x27;).click();\ncy.route(&#x27;**/admin/employee/selectionList**&#x27;).as(&#x27;getEmployee&#x27;);\ncy.log(&#x27;点击员工选择框&#x27;);\ncy.get(&#x27; div:nth-child(3) &gt; div.ant-collapse-content.ant-collapse-content-active &gt; div &gt; span &gt; div &gt; div &gt; div&#x27;).click();\ncy.wait(&#x27;@getEmployee&#x27;);\ncy.log(&#x27;选择第一个员工&#x27;);\ncy.get(&#x27;div.field-name__employeeFilter &gt;div&gt;div&gt;ul&gt;li:nth-child(1)&#x27;).dblclick();\ncy.get(&#x27; div.ant-modal-wrap.attendance-filter-modal &gt; div &gt; div.ant-modal-content &gt; div.ant-modal-body &gt; div &gt; div &gt; div &gt; div:nth-child(3) &gt; div.ant-collapse-content.ant-collapse-content-active &gt; div &gt; span &gt; i &gt; svg&#x27;).click();\ncy.log(&#x27;点击确定按钮&#x27;);\ncy.get(&#x27; div.ant-modal-footer &gt; div &gt; button.ant-btn.ant-btn-primary&#x27;).click();\ncy.wait(&#x27;@getbiz&#x27;);\ncy.log(&#x27;判断应出勤小时数&#x27;);\ncy.get(&#x27; div.ant-table-body &gt; table &gt; tbody &gt; tr:nth-child(1) &gt; td:nth-child(6) &gt; span:nth-child(1)&#x27;, { timeout: 5000 }).then(function (values) {\n    var getNumber = Number(values.text());\n    if (getNumber &gt;= 9) {\n        expect(1).to.equal(1);\n    }\n    else {\n        expect(1).to.equal(0);\n    }\n});&quot;,&quot;err&quot;:{},&quot;uuid&quot;:&quot;b0a2092a-92da-40ff-8f8b-032aa0543d67&quot;,&quot;parentUUID&quot;:&quot;ef54a228-de5e-451b-a207-e63b2b4c7c9b&quot;,&quot;isHook&quot;:false,&quot;skipped&quot;:false}],&quot;suites&quot;:[],&quot;passes&quot;:[&quot;7f3a943e-a0ce-44e8-baf0-df587bd5fb03&quot;,&quot;24868507-7667-4688-aa80-ad53071b1269&quot;,&quot;9a7376a8-47b9-4f8d-8dba-1e3a2c61d7e1&quot;,&quot;b0a2092a-92da-40ff-8f8b-032aa0543d67&quot;],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:83971,&quot;root&quot;:false,&quot;rootEmpty&quot;:false,&quot;_timeout&quot;:2000}],&quot;passes&quot;:[],&quot;failures&quot;:[],&quot;pending&quot;:[],&quot;skipped&quot;:[],&quot;duration&quot;:0,&quot;root&quot;:true,&quot;rootEmpty&quot;:true,&quot;_timeout&quot;:2000}],&quot;meta&quot;:{&quot;mocha&quot;:{&quot;version&quot;:&quot;7.0.1&quot;},&quot;mochawesome&quot;:{&quot;options&quot;:{&quot;quiet&quot;:false,&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;saveHtml&quot;:true,&quot;saveJson&quot;:false,&quot;consoleReporter&quot;:&quot;spec&quot;,&quot;useInlineDiffs&quot;:false,&quot;code&quot;:true},&quot;version&quot;:&quot;6.1.1&quot;},&quot;marge&quot;:{&quot;options&quot;:{&quot;reportDir&quot;:&quot;cypress/results&quot;,&quot;overwrite&quot;:false,&quot;html&quot;:true,&quot;json&quot;:false},&quot;version&quot;:&quot;5.1.0&quot;}}}" data-config="{&quot;reportFilename&quot;:&quot;mochawesome&quot;,&quot;reportDir&quot;:&quot;cypress/results&quot;,&quot;reportTitle&quot;:&quot;cypress-example-kitchensink&quot;,&quot;reportPageTitle&quot;:&quot;Mochawesome Report&quot;,&quot;inline&quot;:false,&quot;inlineAssets&quot;:false,&quot;cdn&quot;:false,&quot;charts&quot;:false,&quot;enableCharts&quot;:false,&quot;code&quot;:true,&quot;enableCode&quot;:true,&quot;autoOpen&quot;:false,&quot;overwrite&quot;:false,&quot;timestamp&quot;:false,&quot;ts&quot;:false,&quot;showPassed&quot;:true,&quot;showFailed&quot;:true,&quot;showPending&quot;:true,&quot;showSkipped&quot;:false,&quot;showHooks&quot;:&quot;failed&quot;,&quot;saveJson&quot;:false,&quot;saveHtml&quot;:true,&quot;dev&quot;:false,&quot;assetsDir&quot;:&quot;cypress/results/assets&quot;,&quot;htmlFile&quot;:&quot;/Users/elephant/Documents/GitHub/cypress-example-kitchensink/cypress/results/mochawesome.html&quot;}"><div id="report"></div><script src="assets/app.js"></script></body></html>